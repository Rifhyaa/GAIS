@model IEnumerable<GAIS.Models.DetailPengajuan>

@{
    ViewBag.Title = "Semua Pesanan";
    Layout = "~/Views/Shared/_LayoutVendor.cshtml";
}

<header class="page-header page-header-compact page-header-light border-bottom bg-white mb-4">
    <div class="container-fluid">
        <div class="page-header-content">
            <div class="row align-items-center justify-content-between pt-3">
                <div class="col-auto mb-3">
                    <ol class="breadcrumb gais-breadcrumb" style="background-color: #fff">
                        <li class="breadcrumb-item">Home</li>
                        <li class="breadcrumb-item text-blue">@ViewBag.Title</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="container-fluid mt-4">
    <h2 class="page-header-title pb-3">
        @ViewBag.Title
    </h2>
    <div class="card mb-4">
        <div class="card-body">
            <div class="datatable">
                <table class="table table-hover table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>ID Transaksi</th>
                            <th>Tanggal Transaksi</th>
                            <th>Nama Barang</th>
                            <th>Vendor</th>
                            <th class="text-center">Kuantitas</th>
                            <th class="text-center">Harga</th>
                            <th class="text-center">Total</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{int numRow = 0;}
                        @foreach (var item in Model)
                        {
                            if (item.Pengajuan.StatusPengajuan == 1)
                            {
                                <tr>
                                    <td>@item.ID_Pengajuan</td>
                                    <td>@string.Format("{0:dd/MM/yyyy HH:mm}", item.Pengajuan.Tgl_Pengajuan)</td>
                                    <td>@Html.DisplayFor(modelItem => item.BarangVendor.NamaBarang)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Vendor.NamaVendor)</td>
                                    <td class="text-right">@Html.DisplayFor(modelItem => item.Kuantitas)</td>
                                    <td class="text-right">@string.Format("{0:C}", (item.HargaBarang))</td>
                                    <td class="text-right">@string.Format("{0:C}", (item.HargaBarang * item.Kuantitas))</td>
                                    <td>@item.StatusBarang</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>